apply plugin: 'jacoco' //code coverage

sourceSets {
    test {
        resources {
            //This ADDS src/main/java/**/*.html and we still read in src/test/resources/**
            srcDirs = ["src/test/java", "src/test/resources"]
            excludes = ["**/*.java"]
        }
    }
}

dependencies {
    compile deps['guice']
    compile project(':http:http-frontend'), project(':http:http1_1-parser')
    compile project(':webserver:http-templating'), project(':webserver:http-router')

    testCompile project(':webserver:http-webserver-test')
    testCompile project(':webserver:http-router-dev')
    testCompile deps['selenium']
}

uploadArchives.repositories.mavenDeployer.pom.project {
   description='The full webpieces server AS A library'
}

test {
    if (project.hasProperty('excludeSelenium')) {
        exclude '**/*Selenium*'
    }
}

