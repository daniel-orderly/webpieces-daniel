#{extends '../backend/main.html'/}#
#{set title:'Webpieces QuickStart'/}#
#{set tab:'management'/}#

<h1>Creating the Project</h1>

<h2>Introduction</h2>

<p>A very simple tutorial, that will just help you to discover the Webpieces library 
with the famous ‘Hello World’ example.</p>

<p>We have split the tutorial into several parts.  Each part will introduce more complex features, and provide
everything that a real project needs: validation, error handling, an automated test suite.</p>

<h2>Prerequisites</h2>

<p>Webpieces required that you have a working installation of jdk9.  We do not require intellij or eclipse
but highlly recommend one of those as your editors.</p>  

<p>We will assume you already have knowledge of Java and Web development(especially HTML, CSS).  However,
you don't need to have any knowledge of JEE components except a little knowledge in JPA can help.  Webpieces
is a 'full stack' Java framework.</p>  

<p>A solid understanding of one of these two things can help</p>

<ul>
    <li>Guice</li>
    <li>@javax.inject annotations</li>
</ul>

<h2>Installing Webpieces</h2>

<p>Hah!!!  Since Webpieces webserver is a library, there is no installation as you just depend on it like
a normal maven artifact!  However, because we don't want everyone that uses webpieces to have to create
all the build files that builds a production server, we supply a createProject script that can be run.  It generates
a project with gradle build files that work out of the box along with a main Server class that you can
modify to your heart's desire.  Obviously, you could completely swap out the build system if you desire.  I will 
warn you however though, some systems like maven are rigid and you may start pulling your hair out</p>

<p>To start, follow the steps in the section 9 Steps to try the webserver in
<a href="https://github.com/deanhiller/webpieces">the README on github.</a></p>

<p>Next, view the section in the <a href="https://github.com/deanhiller/webpieces">README on github</a> on 
Eclipse Setup or Intellij Setup.</p>

<h2>A Walkthrough of the generated Server.java</h2>

<p>When you start up DevelopmentServer.java, most changes to your web application will not require a restart.  Because
webpieces is a library, however, changes to the 3 classes that startup webpieces would require a restart and they are</p>

<ol>
   <li>Server.java</li>
   <li>ServerConfig.java</li>
   <li>WebSSLFactory.java</li>
</ol>

<p>YOU own these classes now to modify to your heart's content.  Any changes to these classes or classes 
that these depend on would require a development server restart to see the changes. Luckily, these
classes pretty much do not really need to ever be touched.</p>

<p>Looking closer at Server.java, you will notice 3 different configurations</p>

<ol>
   <li>WebServerConfig</li>
   <li>RouterConfig</li>
   <li>TemplateConfig</li>
</ol>

<p>Each config object configures that piece of the webserver making it easier to trace what different configurations do
as well as keep each piece separate from each other.</p>  

<p>We have a firm belief that nearly all properties should be in the database and not on the filesystem including 
configuration properties.  We generate Server.java such that you could modify it and put any properties 
you like on the filesystem but we advise against 99% of properties there as typically you want property file 
changes to go through your test team rather than someone getting on a production server and tweaking a property.
Of course, the 1 property that must be a command line argument or a property is the database connection such that
your server can exist in multiple environments like development, staging, and production with different database
connections.</p>  

<p>To make it simpler for all components/plugins to read/write properties into a database, an interface SimpleStorage.java
is provided.  The generated application implements this interface connecting it to hibernate but you could change it
to connect to some noSQL database or whatever else you would like.</p>

<p><b>NOTE: In the future, we want to add a bean plugin that exposes MBeans to a web gui for you and also 
saves changes to the database thereby eliminating the need for property files for basically everything. It would
do the following for you...</b></p>

<ol>
   <li>expose a web page dynamically to modify those properties(for one node or for all machines)</li>
   <li>read in the properties from SimpleStorage on startup to set them back to what they were</li>
   <li>write changes from the web page into the database so they are persisted</li>
</ol>

<p>This automatically managed way of doing properties is preferred over using property files</p>

<h2>A walkthrough of Meta & Modules & Plugins</h2>

<p>The main bootstrap file that webpieces webserver reads in is {yourproject}-all/{yourproject}/src/main/resources/appmeta.txt
for production mode and {yourproject}-all/{yourproject}/src/main/resources/appmeta-dev.txt for Development mode.  This
file boostraps your web application by telling us your meta file.</p>  

<p>If you look closely, you will notice the appmeta-dev.txt contains DeveloperMeta.java and in that file, he just re-uses all
the production meta stuff as well as adding 2 plugins that are only in the development server.  After all, we don't
want to expose a SQL GUI nor webpieces documentation on our production website.</p>

<p>Next, looking at {yourproject}Meta.java file, you will notice it is broken down into 3 main components</p>

<ol>
   <li>list of Guice Modules</li>
   <li>list of Route Modules</li>
   <li>list of Plugins</li>
</ol>

<p>I won't go in depth on plugins at this point but just note that plugins can be another fully contained web
application with it's own guice modules, route modules, controllers, and html pages.  This allows you to plugin
full webapplications into your webapplication.  It's what we use for all the backend plugins that could be removed
if you desire a really thin lightweight server</p>  

<p>Guice modules are where you tell guice wha</p>









